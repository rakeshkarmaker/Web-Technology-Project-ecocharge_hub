USE ecocharge_hub;

CREATE TABLE users (
    user_id INT AUTO_INCREMENT PRIMARY KEY,  -- Unique user ID
    name VARCHAR(255) NOT NULL,              -- User's full name
    email VARCHAR(255) NOT NULL UNIQUE,      -- User's email (should be unique)
    phone VARCHAR(20) NOT NULL,              -- User's phone number
    username VARCHAR(50) NOT NULL UNIQUE,    -- Username for login (should be unique)
    password VARCHAR(255) NOT NULL,          -- Hashed password
    user_type ENUM('Environmentalist', 'Supervisor') NOT NULL,  -- User role
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP  -- Record creation time
);


CREATE TABLE EV_STATIONS (
    station_id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    address VARCHAR(255) NOT NULL,
    facilities TEXT,
    contact_info VARCHAR(255),
    created_by INT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (created_by) REFERENCES USERS(user_id) ON DELETE CASCADE
);

CREATE TABLE DOCUMENTS (
    document_id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL UNIQUE,
    file_path VARCHAR(255) NOT NULL,
    status ENUM('Pending', 'Approved', 'Rejected') DEFAULT 'Pending',
    uploaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES USERS(user_id) ON DELETE CASCADE
);

CREATE TABLE BLOGS (
    blog_id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    title VARCHAR(255) NOT NULL,
    content TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES USERS(user_id) ON DELETE CASCADE
);

CREATE TABLE REVIEWS (
    review_id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    station_id INT NOT NULL,
    rating INT CHECK (rating BETWEEN 1 AND 5),
    review TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES USERS(user_id) ON DELETE CASCADE,
    FOREIGN KEY (station_id) REFERENCES EV_STATIONS(station_id) ON DELETE CASCADE
);

CREATE TABLE FAQS (
    faq_id INT AUTO_INCREMENT PRIMARY KEY,
    question TEXT NOT NULL,
    answer TEXT NOT NULL,
    category VARCHAR(255),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```




##login:
urmi Urmi@2025
kuratoliev

##Links:

http://127.0.0.1/Projects/Web-Technology-Project-ecocharge_hub/ecocharge_hub/
http://127.0.0.1/Projects/Web-Technology-Project-ecocharge_hub/ecocharge_hub/view/registration.php
